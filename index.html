<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Медицинская анкета</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body { 
      font-family: sans-serif; 
      padding: 20px; 
      background: #f7f7f7; 
    }
    input, textarea, select { 
      width: 100%; 
      margin-bottom: 12px; 
      padding: 14px; /* чуть больше чем было */
      border-radius: 6px; 
      border: 1px solid #ccc; 
      font-size: 16px; /* удобнее для мобильного */
      box-sizing: border-box;
    }
    textarea { resize: vertical; }
    button { 
      padding: 16px; 
      width: 100%; 
      background: #4CAF50; 
      color: white; 
      border: none; 
      border-radius: 10px; 
      font-size: 18px; 
      cursor: pointer;
    }
    button:hover { background: #45a049; }
    h3 { margin-bottom: 15px; text-align: center; }

    /* Мобильные устройства */
    @media (max-width: 480px) {
      input, textarea, select { 
        padding: 18px; 
        font-size: 18px; 
      }
      button { 
        padding: 18px; 
        font-size: 20px; 
      }
      body { padding: 15px; }
    }
  </style>
</head>
<body>
  <h3>Заполните медицинскую анкету</h3>

  <label>ФИО:</label>
  <input type="text" id="username" placeholder="Иванов Иван Иванович" required>

  <label>Дата рождения:</label>
  <input type="date" id="birthday" required>

  <label>Хронические заболевания:</label>
  <textarea id="chronic" placeholder="Нет / перечислите заболевания"></textarea>

  <label>Пользовались услугами раньше?</label>
  <select id="makeusebefore">
    <option value="true">Да</option>
    <option value="false">Нет</option>
  </select>

  <label>Какие процедуры делали раньше?</label>
  <input type="text" id="procedure">

  <label>Какие средства использовали?</label>
  <input type="text" id="means">

  <label>Сфера деятельности:</label>
  <input type="text" id="viewjob" placeholder="Например, программист">

  <label>Желаемый результат:</label>
  <input type="text" id="result" placeholder="Что хотите получить от процедуры">

  <label>Жалобы:</label>
  <textarea id="complaints" placeholder="Опишите ваши жалобы"></textarea>

  <button onclick="sendData()">Отправить</button>

  <script>
    function sendData() {
      const tg = window.Telegram.WebApp;
      const data = {
        username: document.getElementById("username").value,
        birthday: document.getElementById("birthday").value,
        chronic_diseases: document.getElementById("chronic").value,
        makeusebefore: document.getElementById("makeusebefore").value === "true",
        makeprocedurebefore: document.getElementById("procedure").value,
        makemeansbefore: document.getElementById("means").value,
        viewjob: document.getElementById("viewjob").value,
        result: document.getElementById("result").value,
        complaints: document.getElementById("complaints").value
      };
      tg.sendData(JSON.stringify(data));
      tg.close();
    }
  </script>
</body>
</html>
